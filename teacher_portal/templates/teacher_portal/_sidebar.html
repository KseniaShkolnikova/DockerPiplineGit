<!-- teacher_portal/templates/teacher_portal/_sidebar.html -->
<aside class="sidebar">
    <div class="sidebar-section">
        <div class="sidebar-user mb-4">
            <div class="d-flex align-items-center gap-3 mb-3">
                {% if teacher_info.profile and teacher_info.profile.profile_image %}
                <img src="{{ teacher_info.profile.profile_image.url }}" 
                     alt="{{ user.get_full_name }}" 
                     class="rounded-circle" 
                     style="width: 48px; height: 48px; object-fit: cover;">
                {% else %}
                <div class="user-avatar teacher">
                    {{ user.first_name|first|upper }}{{ user.last_name|first|upper }}
                </div>
                {% endif %}
                <div>
                    <h4 class="mb-0">{{ user.get_full_name }}</h4>
                    <p class="text-muted mb-0">
                        {% if teacher_info.profile %}
                            {{ teacher_info.profile.qualification|default:"Учитель" }}
                        {% else %}
                            Учитель
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>

        <h6 class="sidebar-title">Навигация</h6>
        <ul class="sidebar-menu">
            <li class="sidebar-item">
                <a href="{% url 'teacher_portal:dashboard' %}" 
                   class="sidebar-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                    <i class="bi bi-house-door"></i>
                    <span>Главная</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="{% url 'teacher_portal:grades' %}" 
                   class="sidebar-link {% if request.resolver_match.url_name in 'grades,add_grade,edit_grade' %}active{% endif %}">
                    <i class="bi bi-journal-check"></i>
                    <span>Оценки</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="{% url 'teacher_portal:attendance' %}" 
                   class="sidebar-link {% if request.resolver_match.url_name == 'attendance' %}active{% endif %}">
                    <i class="bi bi-calendar-check"></i>
                    <span>Посещаемость</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="{% url 'teacher_portal:homework' %}" 
                   class="sidebar-link {% if request.resolver_match.url_name in 'homework,create_homework,homework_submissions' %}active{% endif %}">
                    <i class="bi bi-journal-text"></i>
                    <span>Домашние задания</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="{% url 'teacher_portal:schedule' %}" 
                   class="sidebar-link {% if request.resolver_match.url_name == 'schedule' %}active{% endif %}">
                    <i class="bi bi-calendar-week"></i>
                    <span>Расписание</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="{% url 'teacher_portal:announcements' %}" 
                   class="sidebar-link {% if request.resolver_match.url_name in 'announcements,create_announcement' %}active{% endif %}">
                    <i class="bi bi-megaphone"></i>
                    <span>Объявления</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="{% url 'teacher_portal:students' %}" 
                   class="sidebar-link {% if request.resolver_match.url_name in 'students,student_detail' %}active{% endif %}">
                    <i class="bi bi-people"></i>
                    <span>Ученики</span>
                </a>
            </li>
            <li class="sidebar-item">
                <a href="{% url 'teacher_portal:statistics' %}" 
                   class="sidebar-link {% if request.resolver_match.url_name == 'statistics' %}active{% endif %}">
                    <i class="bi bi-graph-up"></i>
                    <span>Статистика</span>
                </a>
            </li>
        </ul>
    </div>
        <div class="sidebar-section">
        <h6 class="sidebar-title">Быстрые ссылки</h6>
        <ul class="sidebar-menu">
            <li class="sidebar-item">
                <a href="{% url 'logout_view' %}" class="sidebar-link text-danger">
                    <i class="bi bi-box-arrow-right"></i>
                    <span>Выйти</span>
                </a>
            </li>
        </ul>
    </div>

    
</aside>